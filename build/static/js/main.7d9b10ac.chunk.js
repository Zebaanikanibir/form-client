(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,s){},41:function(e,t,s){},48:function(e,t,s){},53:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),c=s(32),n=s.n(c),i=(s(40),s(7)),o=(s(41),s(14)),l=s(25),d=s(18),j=s(6),u=s(17),b=s(2),h=function(){var e=Object(a.useContext)(y),t=Object(i.a)(e,2),s=(t[0],t[1]),r=Object(j.g)(),c=(Object(j.h)().state||{from:{pathname:"/"}}).from,n=Object(l.a)({mode:"onChange"}),h=n.register,m=n.handleSubmit,p=n.formState.errors,O=Object(a.useState)({isSignedIn:!1,name:"",email:"",photo:"",password:""}),x=Object(i.a)(O,2),g=(x[0],x[1]);return Object(b.jsxs)("div",{className:"App mt-5",children:[Object(b.jsx)("h3",{children:"Log In"}),Object(b.jsxs)("form",{id:"logedIn",onSubmit:m((function(e){e.email&&e.password&&d.a.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){var a=e.user,n=a.displayName,i=a.email,o=a.photoURL,l=a.password,d={isSignedIn:!0,name:n,email:i,photo:o,password:l};g(d),s(d),console.log(n,i,l),t(),r.replace(c)})).catch((function(e){e.code;var t=e.message;t&&alert(t)}));var t=function(){d.a.auth().currentUser.getIdToken(!0).then((function(e){console.log("token",e),sessionStorage.setItem("token",e),setTimeout((function(){sessionStorage.clear()}),3e5),r.replace(c)})).catch((function(e){}))}})),children:[Object(b.jsx)("input",Object(o.a)({className:"input",id:"email",type:"email",placeholder:"Enter Email"},h("email",{required:"this is a required",pattern:{value:/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Invalid email address"}})))," ",Object(b.jsx)("br",{}),p.email&&Object(b.jsx)("p",{children:p.email.message}),Object(b.jsx)("input",Object(o.a)({className:"input",id:"password",type:"password",placeholder:"password"},h("password",{required:"this is a required",maxLength:{value:10,message:"incorrect"}})))," ",Object(b.jsx)("br",{}),p.password&&Object(b.jsx)("p",{children:p.password.message}),Object(b.jsx)("input",{className:"input primary",type:"submit"})]}),Object(b.jsxs)("p",{children:["register here  ",Object(b.jsx)(u.b,{to:"/register",children:"Register"})]})]})},m=function(e){var t=e.user,s=t.uName,a=t.email,r=t.address,c=t._id;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:"."}),Object(b.jsx)("td",{children:s}),Object(b.jsx)("td",{children:a}),Object(b.jsx)("td",{children:r}),Object(b.jsx)("td",{children:Object(b.jsx)("svg",{onClick:function(){return e=c,console.log(e),void fetch("https://polar-meadow-65365.herokuapp.com/delete/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){e&&alert("successfully deleted")}));var e},style:{width:"30px",color:"red"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},p=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),s=t[0],r=t[1],c=Object(a.useContext)(y),n=Object(i.a)(c,2);n[0],n[1];return Object(a.useEffect)((function(){fetch("https://polar-meadow-65365.herokuapp.com/users").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),console.log("user",s),Object(b.jsx)("div",{children:Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col"}),Object(b.jsx)("th",{scope:"col",children:"Name"}),Object(b.jsx)("th",{scope:"col",children:"Email"}),Object(b.jsx)("th",{scope:"col",children:"Address"}),Object(b.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(b.jsx)("tbody",{children:s.map((function(e){return Object(b.jsx)(m,{user:e},e._id)}))})]})})},O=s(16),x=(s(48),s(49),s(54),{apiKey:"AIzaSyDjuCQkkW_9DdPAvdZRZOzmIha-E-nQSqU",authDomain:"register-form-c9ca1.firebaseapp.com",projectId:"register-form-c9ca1",storageBucket:"register-form-c9ca1.appspot.com",messagingSenderId:"30829772585",appId:"1:30829772585:web:be0414e9b8e0fee0760138"});d.a.apps.length||d.a.initializeApp(x);var g=function(){var e,t=Object(a.useState)(""),s=Object(i.a)(t,2),r=(s[0],s[1],Object(l.a)({mode:"onChange"})),c=r.register,n=r.handleSubmit,j=r.formState.errors;console.log("err",j);return Object(b.jsxs)("section",{className:"App mt-5",children:[Object(b.jsx)("h3",{children:"Sign In"}),Object(b.jsxs)("form",{id:"signedIn",onSubmit:n((function(e){console.log("data",e);var t={uName:e.uName,email:e.email,password:e.password,number:e.number,address:e.address};console.log(t),fetch("https://polar-meadow-65365.herokuapp.com/registered",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return alert("User added Successfully",e)})),e.password&&e.email&&d.a.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){var t=e.user;console.log(t)})).catch((function(e){e.code;var t=e.message;t&&alert(t)}))})),children:[Object(b.jsx)("input",Object(o.a)({className:"input",id:"Name",type:"text",placeholder:"User Name"},c("uName",{required:!0,maxLength:{value:30,message:"Max length is 30"},pattern:{value:/^(?!^\.)(?!.*[-_.]$)[a-zA-Z0-9_.]+$/,message:"Not matches with pattern"}})))," ",Object(b.jsx)("br",{}),j.uName&&Object(b.jsx)("p",{children:j.uName.message}),Object(b.jsx)("input",Object(o.a)({className:"input",id:"email",type:"email",placeholder:"Enter Email"},c("email",{required:"this is a required",pattern:{value:/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Invalid email address"}})))," ",Object(b.jsx)("br",{}),j.email&&Object(b.jsx)("p",{children:j.email.message}),Object(b.jsx)("input",Object(o.a)({className:"input",id:"password",type:"password",placeholder:"password"},c("password",{required:"this is a required",maxLength:{value:10,message:"Max length is 10"}})))," ",Object(b.jsx)("br",{}),j.password&&Object(b.jsx)("p",{children:j.password.message}),Object(b.jsx)("input",Object(o.a)({className:"input",id:"number",type:"number",placeholder:"Number"},c("number",{required:"this is a required",maxLength:{value:10,message:"Max length is 10"}})))," ",Object(b.jsx)("br",{}),j.number&&Object(b.jsx)("p",{children:j.number.message}),Object(b.jsx)("input",Object(o.a)({className:"input",id:"address",type:"text",placeholder:"Address"},c("address",{required:"this is a required",maxLength:{value:10,message:"Max length is 10"}})))," ",Object(b.jsx)("br",{}),j.address&&Object(b.jsx)("p",{children:j.address.message}),Object(b.jsx)("input",(e={className:"input"},Object(O.a)(e,"className","primary"),Object(O.a)(e,"type","submit"),e))]}),Object(b.jsxs)("p",{children:["Have any account? ",Object(b.jsx)(u.b,{to:"/login",children:"Log in"})]})]})},f=function(){return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-5",children:Object(b.jsx)(g,{})}),Object(b.jsxs)("div",{className:"col-md-7",children:[Object(b.jsx)("h2",{children:"User Details"}),Object(b.jsx)(p,{})]})]})},v=s(35),w=s(34),N=["children"],S=function(e){var t=e.children,s=Object(v.a)(e,N),r=Object(a.useContext)(y),c=Object(i.a)(r,2),n=c[0];c[1];return Object(b.jsx)("div",{children:Object(b.jsx)(j.b,Object(o.a)(Object(o.a)({},s),{},{render:function(e){var s=e.location;return n.email||function(){var e=sessionStorage.getItem("token");if(!e)return!1;var t=Object(w.a)(e);console.log(t);var s=(new Date).getTime()/1e3;return console.log("exp",t.exp),t.exp>s}()?t:Object(b.jsx)(j.a,{to:{pathname:"/login",state:{from:s}}})}}))})},y=Object(a.createContext)();var I=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),s=t[0],r=t[1];return Object(b.jsx)(y.Provider,{value:[s,r],children:Object(b.jsx)(u.a,{children:Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{path:"/login",children:Object(b.jsx)(h,{})}),Object(b.jsx)(j.b,{path:"/register",children:Object(b.jsx)(g,{})}),Object(b.jsx)(S,{path:"/screen2",children:Object(b.jsx)(f,{})}),Object(b.jsx)(S,{exact:!0,path:"/",children:Object(b.jsx)(f,{})})]})})})},k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,55)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,n=t.getTTFB;s(e),a(e),r(e),c(e),n(e)}))};s(52);n.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),k()}},[[53,1,2]]]);
//# sourceMappingURL=main.7d9b10ac.chunk.js.map